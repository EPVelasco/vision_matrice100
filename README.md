# Description
This package is implemented in ROS for visual servoing control of the flight of a DJI Matrice 100 UAV over a solar panel array. This is achieved by filtering the side edges on the solar panel array. The package performs feature filtering using classical filters on RGB and depth images generated by an Intel Realsense D435i camera. In addition, in order to reduce noise in feature extraction, a Kalman filter that estimates the states of the lateral lines in the solar panel array has been implemented. Also, due to the characteristics of the visual servoing control model for the UAV, it is possible to use the null-space projector operator for a proper control law. The visual servoing controller locates the UAV at the center of the solar panel array, positions it at a desired height based on the width of the solar panels, and generates a linear forward velocity for a path over the entire array.

<p align='center'>
<img width="70%" src="/images/drone.JPG"/>
</p>


## Kalman Filter
For feature extraction and Kalman filtering, the package uses as input the RGB-D images and the camera velocity, which are given by the UAV velocity transformed to the camera frame.

<p align='center'>
<img width="100%" src="/images/solar_panel_filter.png"/>
</p>

## Visual Servoing Controller with Null Space
For the use of the visual servoing controller, the midpoint of the lateral edges of the PV array and the angle it forms with respect to the vertical of the image are used.

<p align='center'>
<img width="70%" src="/images/drone_pv.png"/>
</p>
